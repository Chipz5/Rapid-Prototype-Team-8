<!DOCTYPE html>
<html>

<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
    <!-- <script type = "text/javascript" src = "Player.js"></script> -->
    <script src="./phaser.js"></script>
    <meta charset="UTF-8">
    <title>Asteroids</title>
    <style></style>
</head>

<body>
    <canvas id = "gameCanvas" width = "50" height = "0">
    </canvas>

    <script>
        //import background from "./Assets/Background.jpg";

        var config = {
            type: Phaser.AUTO,
            width: 1400,
            height: 700,
            physics: {
                default: 'arcade',
                arcade: {
                    fps: 60,
                    gravity: { y: 0 }
                }
            },
            scene: {
                preload: Preload,
                create: Create,
                update: Update
            }
        };

        const FPS = 30;
        const SHIP_SIZE = 30;

        var game = new Phaser.Game(config);

        var keys;
        var canv = document.getElementById("gameCanvas");
        var context = canv.getContext("2d");
        var bullets;
        var fire;
        var jellyfish;
        var med_jellyfish;
        var small_jellyfish;
        var sparks;
        var text;
        var score = 0;
        var life = 3;
        var lifeText;
        var gameOverText;

        var isPlayerDied = false;
        var isGameOver = false;

        var fireTime = 50;
        var bg;
        var emiterPosition;
        
        var player;
        var playerImage2;
        var playerImage3;

        var playerCollider1;
        var playerCollider2;
        var playerCollider3;

        var player2Collider1;
        var player2Collider2;
        var player2Collider3;

        var player3Collider1;
        var player3Collider2;
        var player3Collider3;

        var playerCollideLifeCounter = 3;

        var isFirePowered = false;
        var Invincible = false;
        var InvincibleTime = 300;
        var InvincibleTimeTracker = true;
        var InvinciCounter = 0;

        var timedEvent;

        function Preload()
        {
            

            //this.load.setBaseURL('https://github.com/w853245475/Rapid-Prototype-Team-8/blob/Dev-Pix/Assets/');
            this.load.setBaseURL('./Assets/');
            //this.load.image('background', "./Assets/Background.jpg");
            this.load.image('background', "Background.jpg");

            this.load.image('ship', 'Sub.png');
            this.load.image('ship2', 'Damage1.png');
            this.load.image('ship3', 'Damage3.png');
  

            //this.load.setBaseURL('http://labs.phaser.io');

            //this.load.image('background', 'assets/tests/space/nebula.jpg');
            this.load.image('bullet', 'New_Laser_Blast.png');
            this.load.image('powerBullet', 'Charged_Laser_Blast.png');
            
            //this.load.atlas('space', 'assets/tests/space/space.png', 'assets/tests/space/space.json');
            this.load.atlas('space', 'space.png', 'space.json');

            this.load.image('asteroids', 'Jellyfish.png');
            this.load.image('asteroids1', 'Mid_Jellyfish.png');
            this.load.image('asteroids2', 'New_Small_Jellyfish.png');
            


            //this.load.setBaseURL('http://labs.phaser.io');

            this.load.image('background', 'assets/tests/space/nebula.jpg');

            this.load.image('jellyfish', 'Jellyfish.png');
            this.load.image('med_jellyfish', 'Mid_Jellyfish.png');
            this.load.image('small_jellyfish', 'Small_Jellyfish.png');
            this.load.image('shock', 'Shock_Field.png');


        }

        function Create()
        {
            var Bullet = new Phaser.Class({

                Extends: Phaser.Physics.Arcade.Image,

                initialize:

                function Bullet (scene)
                {
                    Phaser.Physics.Arcade.Image.call(this, scene, 0, 0, 'bullet', 'blaster');

                    this.setBlendMode(1);
                    this.setDepth(1);

                    this.speed = 300;
                    this.lifespan = 1000;

                    this._temp = new Phaser.Math.Vector2();
                },

                fire: function (player)
                {
                    this.lifespan = 1000;

                    this.setActive(true);
                    this.setVisible(true);

                    this.setAngle(player.body.rotation);
                    this.setPosition(player.x, player.y);
                    this.body.reset(player.x, player.y);

                    var angle = Phaser.Math.DegToRad(player.body.rotation);

                    this.scene.physics.velocityFromRotation(angle, this.speed, this.body.velocity);

                    this.body.velocity.x *= 2;
                    this.body.velocity.y *= 2;
                },

                update: function (time, delta)
                {
                    this.lifespan -= delta;

                    if (this.lifespan <= 0)
                    {
                        this.setActive(false);
                        this.setVisible(false);
                        this.body.stop();
                    }
                }

            });








            var poweredBullet = new Phaser.Class({

                Extends: Phaser.Physics.Arcade.Image,

                initialize:

                function Bullet (scene)
                {
                    Phaser.Physics.Arcade.Image.call(this, scene, 0, 0, 'powerBullet', 'blaster');

                    this.setBlendMode(1);
                    this.setDepth(1);

                    this.speed = 300;
                    this.lifespan = 1000;

                    this._temp = new Phaser.Math.Vector2();
                },

                fire: function (player)
                {
                    this.lifespan = 1000;

                    this.setActive(true);
                    this.setVisible(true);

                    this.setAngle(player.body.rotation);
                    this.setPosition(player.x, player.y);
                    this.body.reset(player.x, player.y);

                    var angle = Phaser.Math.DegToRad(player.body.rotation);

                    this.scene.physics.velocityFromRotation(angle, this.speed, this.body.velocity);

                    this.body.velocity.x *= 2;
                    this.body.velocity.y *= 2;
                },

                update: function (time, delta)
                {
                    this.lifespan -= delta;

                    if (this.lifespan <= 0)
                    {
                        this.setActive(false);
                        this.setVisible(false);
                        this.body.stop();
                    }
                }

            });






            var Shock = new Phaser.Class({

                Extends: Phaser.Physics.Arcade.Image,

                initialize:

                function Shock (scene)
                {
                    Phaser.Physics.Arcade.Image.call(this, scene, 0, 0, 'shock');

                    this.setBlendMode(1);
                    this.setDepth(1);

                    this.speed = 300;
                    this.lifespan = 1000;

                    this._temp = new Phaser.Math.Vector2();
                },

                shock: function (jellyfish)
                {
                    this.lifespan = 100;

                    this.setActive(true);
                    this.setVisible(true);

                    //this.setAngle(jellyfish.body.rotation);
                    this.setPosition(jellyfish.x, jellyfish.y);
                    //this.body.reset(300, 200);

                    //var angle = Phaser.Math.DegToRad(jellyfish.body.rotation);

                    this.scene.physics.velocityFromRotation(90, this.speed, this.body.velocity);

                    //this.body.velocity.x *= 2;
                    //this.body.velocity.y *= 2;
                },
                update: function (time, delta)
                {
                    this.lifespan -= delta;

                    if (this.lifespan <= 0)
                    {
                        this.setActive(false);
                        this.setVisible(false);
                        this.body.stop();
                    }
                }

            });
            









            bg = this.add.image(600, 400, 'background');

  

            playerImage3 = this.physics.add.image(700, 350, 'ship3');
            playerImage2 = this.physics.add.image(700, 350, 'ship2');
            player = this.physics.add.image(700, 350, 'ship');

            player.flipX = true;
            playerImage2.flipX = true;
            playerImage3.flipX = true;

            //var bg = this.add.tileSprite(400, 300, 800, 600, 'background').setScrollFactor(0);
            
 

            var particles = this.add.particles('space');

                var emitter = particles.createEmitter({
                    frame: 'blue',
                    speed: 100,
                    lifespan: {
                        onEmit: function (particle, key, t, value)
                        {
                            return Phaser.Math.Percent(player.body.speed, 0, 300) * 2000;
                        }
                    },
                    alpha: {
                        onEmit: function (particle, key, t, value)
                        {
                            return Phaser.Math.Percent(player.body.speed, 0, 300);
                        }
                    },
                    angle: {
                        onEmit: function (particle, key, t, value)
                        {
                            var v = Phaser.Math.Between(-10, 10);
                            return (player.angle - 180) + v;
                        }
                    },
                    scale: { start: 0.3, end: 0 },
                    blendMode: 'ADD'
                });





            player.setDamping(true);
            player.setDrag(0.99);
            player.setMaxVelocity(200);
            player.setBounce(1, 1);
            //player.setCollideWorldBounds(true);
            player.setScale(0.5);

            playerImage2.setDamping(true);
            playerImage2.setDrag(0.99);
            playerImage2.setMaxVelocity(200);
            //playerImage2.setCollideWorldBounds(true);
            playerImage2.setScale(0.5);

            playerImage3.setDamping(true);
            playerImage3.setDrag(0.99);
            playerImage3.setMaxVelocity(200);
            //playerImage3.setCollideWorldBounds(true);
            playerImage3.setScale(0.5);

            playerImage2.disableBody(true, true);
            playerImage3.disableBody(true, true);


            keys = this.input.keyboard.createCursorKeys();
            emitter.startFollow(player);


            bullets = this.physics.add.group({
                classType: Bullet,
                maxSize: 1,
                runChildUpdate: true
            });




            poweredBullets = this.physics.add.group({
                classType: poweredBullet,
                maxSize: 1,
                runChildUpdate: true
            });







            sparks = this.physics.add.group({
                classType: Shock,
                maxSize: 1,
                runChildUpdate: true
            });

            fire = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.SPACE);

            respawnKey = this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.R);

            text = this.add.text(32, 32, 'Score: 0', {fontSize: '32px',  fill:'#ffffff'});
            lifeText = this.add.text(600, 32, 'Life: 0', {fontSize: '32px',  fill:'#ffffff'});
            gameOverText = this.add.text(275, 268, "Game Over!", {fontSize: '40px', fill:'#ffffff'});
            gameOverText.setVisible(false);

            jellyfish = this.physics.add.group();

            //enable physics in them
            jellyfish.enableBody = true;

    //phaser's random number generator
            var numJellies = Phaser.Math.Between(5,10);
            var jellies;



            for (var i = 0; i < numJellies; i++) {
                //add sprite
                jellies = jellyfish.create(Phaser.Math.Between(0, this.game.config.width),Phaser.Math.Between(0, this.game.config.height), 'jellyfish');
                //asteriod.scale.setTo(Phaser.Math.Between(10, 40)/10);
                jellies.body.width = Phaser.Math.Between(10, 40)/10;
                jellies.body.height = jellies.body.width;
                //Phaser.Actions.ScaleXY(asteriod, asteriod.body.width, asteriod.body.width);
                //physics properties
                jellies.setScale(Phaser.Math.Between(4, 8)/10);
                jellies.body.velocity.x = Phaser.Math.Between(-60, 60);
                jellies.body.velocity.y = Phaser.Math.Between(-60, 60);
                jellies.body.immovable = true;
                jellies.body.collideWorldBounds = false;
            }
            med_jellyfish = this.physics.add.group()
            med_jellyfish.enableBody = true;
            var jellies;

            this.physics.add.collider(bullets,jellyfish, function(player,jellyfish){
                var x = jellyfish.x;
                var y = jellyfish.y;
                jellyfish.destroy();
                score+=100;
                for (var i = 0; i < 2; i++) {
            //add sprite
                    jellies = med_jellyfish.create(x,y, 'med_jellyfish');
                    //asteriod.scale.setTo(Phaser.Math.Between(10, 40)/10);
                    jellies.body.width = Phaser.Math.Between(10, 40)/10;
                    jellies.body.height = jellies.body.width;
                    //Phaser.Actions.ScaleXY(asteriod, asteriod.body.width, asteriod.body.width);
                    //physics properties
                    jellies.body.velocity.x = Phaser.Math.Between(-80, 80);
                    jellies.body.velocity.y = Phaser.Math.Between(-80, 80);
                    jellies.body.immovable = true;
                    jellies.body.collideWorldBounds = false;
                }

            });

        







            small_jellyfish = this.physics.add.group()
            small_jellyfish.enableBody = true;
            var jellies;


            this.physics.add.collider(bullets,med_jellyfish, function(player,med_jellyfish){

                var x = med_jellyfish.x;
                var y = med_jellyfish.y;
                med_jellyfish.destroy();
                score+=100;
                for (var i = 0; i < 2; i++) {
                //add sprite
                    jellies = small_jellyfish.create(x,y, 'small_jellyfish');
                    //asteriod.scale.setTo(Phaser.Math.Between(10, 40)/10);
                    jellies.body.width = Phaser.Math.Between(10, 40)/10;
                    jellies.body.height = jellies.body.width;
                    //Phaser.Actions.ScaleXY(asteriod, asteriod.body.width, asteriod.body.width);
                    //physics properties
                    jellies.body.velocity.x = Phaser.Math.Between(-80, 80);
                    jellies.body.velocity.y = Phaser.Math.Between(-80, 80);
                    jellies.body.immovable = true;
                    jellies.body.collideWorldBounds = false;
                }

            });



            this.physics.add.collider(bullets,small_jellyfish, function(player,small_jellyfish){
                small_jellyfish.destroy();
                score+=100;

            });











            this.physics.add.overlap(poweredBullets,jellyfish, function(player,jellyfish){
                var x = jellyfish.x;
                var y = jellyfish.y;
                jellyfish.destroy();
                score+=100;
                for (var i = 0; i < 2; i++) {
            //add sprite
                    jellies = med_jellyfish.create(x,y, 'med_jellyfish');
                    //asteriod.scale.setTo(Phaser.Math.Between(10, 40)/10);
                    jellies.body.width = Phaser.Math.Between(10, 40)/10;
                    jellies.body.height = jellies.body.width;
                    //Phaser.Actions.ScaleXY(asteriod, asteriod.body.width, asteriod.body.width);
                    //physics properties
                    jellies.body.velocity.x = Phaser.Math.Between(-80, 80);
                    jellies.body.velocity.y = Phaser.Math.Between(-80, 80);
                    jellies.body.immovable = true;
                    jellies.body.collideWorldBounds = false;
                }

            });

            this.physics.add.overlap(poweredBullets,med_jellyfish, function(player,med_jellyfish){

                var x = med_jellyfish.x;
                var y = med_jellyfish.y;
                med_jellyfish.destroy();
                score+=100;
                for (var i = 0; i < 2; i++) {
                //add sprite
                    jellies = small_jellyfish.create(x,y, 'small_jellyfish');
                    //asteriod.scale.setTo(Phaser.Math.Between(10, 40)/10);
                    jellies.body.width = Phaser.Math.Between(10, 40)/10;
                    jellies.body.height = jellies.body.width;
                    //Phaser.Actions.ScaleXY(asteriod, asteriod.body.width, asteriod.body.width);
                    //physics properties
                    jellies.body.velocity.x = Phaser.Math.Between(-80, 80);
                    jellies.body.velocity.y = Phaser.Math.Between(-80, 80);
                    jellies.body.immovable = true;
                    jellies.body.collideWorldBounds = false;
                }

                });
     




            this.physics.add.overlap(poweredBullets,small_jellyfish, function(player,small_jellyfish){
                small_jellyfish.destroy();
                score+=100;

            });

























            playerCollider1 = this.physics.add.collider(player, jellyfish, function(player,jellyfish){
                player.disableBody(true, true);
                playerImage2.disableBody(true, true);
                playerImage3.disableBody(true, true);
                life--;
                isPlayerDied = true;

            });



            playerCollider2 = this.physics.add.collider(player, med_jellyfish, enemyHitsPlayer, function(player, med_jellyfish)
            {
                var x = med_jellyfish.x;
                var y = med_jellyfish.y;
                var spark = sparks.get();
                //var spark = sparks.create(x,y, 'spark');
                if(spark)
                {
                  spark.shock(med_jellyfish);
                }


                player.setBounce(10, 10);

                isFirePowered = true;
                player.disableBody(true, true);
                playerImage2.enableBody(true, player.x, player.y, true, true);
                playerImage2.rotation = player.rotation;
                playerImage2.setBounce(10, 10);
                playerImage2.alpha = 0.5;
                Invincible = true;
                InvincibleTimeTracker = false;

                //timedEvent = this.time.delayedCall(3000, InvincibleEvent, [], this);
                //timedEvent = this.time.addEvent({ delay: 2000, callback: this.InvincibleEvent, callbackScope: this });
            });


            playerCollider3 = this.physics.add.collider(player, small_jellyfish, enemyHitsPlayer, function(player, small_jellyfish)
            {
                // player.disableBody(true, true);
                // life--;
                // isPlayerDied = true;
                var spark = sparks.get();
                //var spark = sparks.create(x,y, 'spark');
                if(spark)
                {
                  spark.shock(small_jellyfish);

                }

                player.setBounce(10, 10);

                isFirePowered = true;
                player.disableBody(true, true);
                playerImage2.enableBody(true, player.x, player.y, true, true);
                playerImage2.rotation = player.rotation;
                playerImage2.setBounce(10, 10);
                playerImage2.alpha = 0.5;
                Invincible = true;
                InvincibleTimeTracker = false;

            });












            player2Collider1 = this.physics.add.collider(playerImage2, jellyfish, function(playerImage2,jellyfish){
                playerImage2.disableBody(true, true);
                playerImage3.disableBody(true, true);
                life--;
                isPlayerDied = true;
            });



            player2Collider2 = this.physics.add.collider(playerImage2, med_jellyfish, enemyHitsPlayer, function(playerImage2, med_jellyfish)
            {

                    var x = med_jellyfish.x;
                    var y = med_jellyfish.y;
                    var spark = sparks.get();
                    //var spark = sparks.create(x,y, 'spark');
                    if(spark)
                    {
                    spark.shock(med_jellyfish);
                    }


                    playerImage2.setBounce(10, 10);

                    isFirePowered = true;
                    playerImage2.disableBody(true, true);
                    playerImage3.enableBody(true, playerImage2.x, playerImage2.y, true, true);
                    playerImage3.rotation = playerImage2.rotation;
                    playerImage3.setBounce(10, 10);
                    playerImage3.alpha = 0.5;
                    Invincible = true;
                    InvincibleTimeTracker = false;
                
            });


            player2Collider3 = this.physics.add.collider(playerImage2, small_jellyfish, enemyHitsPlayer, function(playerImage2, small_jellyfish)
            {
                // player.disableBody(true, true);
                // life--;
                // isPlayerDied = true;
                var spark = sparks.get();
                //var spark = sparks.create(x,y, 'spark');
                if(spark)
                {
                  spark.shock(small_jellyfish);

                }

                playerImage2.setBounce(10, 10);

                isFirePowered = true;
                playerImage2.disableBody(true, true);
                playerImage3.enableBody(true, playerImage2.x, playerImage2.y, true, true);
                playerImage3.rotation = playerImage2.rotation;
                playerImage3.setBounce(10, 10);
                playerImage3.alpha = 0.5;
                Invincible = true;
                InvincibleTimeTracker = false;
            });

















            player3Collider1 = this.physics.add.collider(playerImage3, jellyfish, function(playerImage3,jellyfish){
                playerImage3.disableBody(true, true);
                life--;
                isPlayerDied = true;
            });



            player3Collider2 = this.physics.add.collider(playerImage3, med_jellyfish, enemyHitsPlayer, function(playerImage3, med_jellyfish)
            {
                playerImage3.disableBody(true, true);
                life--;
                isPlayerDied = true;
            });


            player3Collider3 = this.physics.add.collider(playerImage3, small_jellyfish, enemyHitsPlayer, function(playerImage3, small_jellyfish)
            {
                playerImage3.disableBody(true, true);
                life--;
                isPlayerDied = true;
            });




            player2Collider1.active = false;
            player2Collider2.active = false;
            player2Collider3.active = false;
            player3Collider1.active = false;
            player3Collider2.active = false;
            player3Collider3.active = false;


        }




        function Update(time)
        {
          this.physics.world.wrap(jellyfish);
          this.physics.world.wrap(med_jellyfish);
          this.physics.world.wrap(small_jellyfish);
          this.physics.world.wrap(player);
          this.physics.world.wrap(playerImage2);
          this.physics.world.wrap(playerImage3);
          emiterPosition = player.getBottomRight();

            if(life == 0)
            {
                isGameOver = true;
            }

            if(playerCollideLifeCounter == 3)
            {
                //player = this.physics.add.image('ship');
                //player.texture = 'asteroids';
            }

            if(InvincibleTimeTracker)
            {
                InvincibleTime = time;
            }

            if(Invincible)
            {
                if(player2Collider1.active == false)
                {
                    InvinciCounter = 1;
                    if(time > InvincibleTime + 3000)
                    {
                        
                        playerImage2.alpha = 1;
                        player2Collider1.active = true;
                        player2Collider2.active = true;
                        player2Collider3.active = true;
                        InvincibleTimeTracker = true;
                        Invincible = false;
                    }
                }
                else if (player3Collider1.active == false && player2Collider1.active)
                {
                    InvinciCounter = 2;
                    if(time > InvincibleTime + 3000)
                    {
                        console.log(InvincibleTime);
                        playerImage3.alpha = 1;
                        player3Collider1.active = true;
                        player3Collider2.active = true;
                        player3Collider3.active = true;
                        InvincibleTimeTracker = true;
                        Invincible = false;
                    }
                }


            }





            if(!isGameOver)
            {

                if(player.rotation < -1.5 || player.rotation > 1.5)
                {
                    player.flipY = true;
                }
                else if(-1.5  <=player.rotation <= 1.5)
                {
                    player.flipY = false;                    
                }

                if(playerImage2.rotation < -1.5 || playerImage2.rotation > 1.5)
                {
                    playerImage2.flipY = true;
                }
                else if(-1.5  <=playerImage2.rotation <= 1.5)
                {
                    playerImage2.flipY = false;                    
                }

                if(playerImage3.rotation < -1.5 || playerImage3.rotation > 1.5)
                {
                    playerImage3.flipY = true;
                }
                else if(-1.5  <=playerImage3.rotation <= 1.5)
                {
                    playerImage3.flipY = false;                    
                }



                if (keys.up.isDown)
                {
                    this.physics.velocityFromRotation(player.rotation, 200, player.body.acceleration);
                    this.physics.velocityFromRotation(playerImage2.rotation, 200, playerImage2.body.acceleration);
                    this.physics.velocityFromRotation(playerImage3.rotation, 200, playerImage3.body.acceleration);
                }
                else
                {
                    player.setAcceleration(0);
                    playerImage2.setAcceleration(0);
                    playerImage3.setAcceleration(0);
                }

                if (keys.left.isDown)
                {
                    player.setAngularVelocity(-300);
                    playerImage2.setAngularVelocity(-300);
                    playerImage3.setAngularVelocity(-300);
                }
                else if (keys.right.isDown)
                {
                    player.setAngularVelocity(300);
                    playerImage2.setAngularVelocity(300);
                    playerImage3.setAngularVelocity(300);
                }
                else
                {
                    player.setAngularVelocity(0);
                    playerImage2.setAngularVelocity(0);
                    playerImage3.setAngularVelocity(0);
                }


                if (fire.isDown && !isPlayerDied && time > fireTime)
                {
                    console.log(InvinciCounter);
                    if(!isFirePowered)
                    {
                        var bullet = bullets.get();

                        if (bullet)
                        {
                            if(InvinciCounter == 0)
                                bullet.fire(player);

                            else if(InvinciCounter == 1)
                                bullet.fire(playerImage2);

                            else if(InvinciCounter == 2)
                                bullet.fire(playerImage3);
                            fireTime = time + 50;
                        }
                    }
                    else
                    {
                        var bullet = poweredBullets.get();

                        if (bullet)
                        {
                            if(InvinciCounter == 0)
                                bullet.fire(player);

                            else if(InvinciCounter == 1)
                                bullet.fire(playerImage2);

                            else if(InvinciCounter == 2)
                                bullet.fire(playerImage3);
                            fireTime = time + 50;
                        }
                        isFirePowered = false;

                    }

                    //player.enableBody(true, true);
                }

                if (respawnKey.isDown && isPlayerDied)
                {
                    player.enableBody(true, 700, 350, true, true);
                    //player.x = 300;
                    //player.y = 400;
                    InvinciCounter = 0;
                    isPlayerDied = false;

                    player2Collider1.active = false;
                    player2Collider2.active = false;
                    player2Collider3.active = false;
                    player3Collider1.active = false;
                    player3Collider2.active = false;
                    player3Collider3.active = false;
                    score++;
                }

            }
            else{
                gameOverText.setVisible(true);
            }

            text.setText('Score: ' + score);
            lifeText.setText('Life:' + life);

        }

        function Respawn(){

        }

        function enemyHitsPlayer (player,asteroids) {
          //asteroids = this.physics.add.group();

            //enable physics in them
          //asteroids.enableBody = true;
          /*
          var asteriod;
          for (var i = 0; i < 2; i++) {
          //add sprite
              asteriod = asteroids.create(Phaser.Math.Between(0, this.game.config.width),Phaser.Math.Between(0, this.game.config.height), 'asteroids');
              //asteriod.scale.setTo(Phaser.Math.Between(10, 40)/10);
              asteriod.body.width = Phaser.Math.Between(10, 40)/10;
              asteriod.body.height = asteriod.body.width;
              //Phaser.Actions.ScaleXY(asteriod, asteriod.body.width, asteriod.body.width);
              //physics properties
              asteriod.body.velocity.x = Phaser.Math.Between(-20, 20);
              asteriod.body.velocity.y = Phaser.Math.Between(-20, 20);
              asteriod.body.immovable = true;
              asteriod.body.collideWorldBounds = false;
            }
            */

            //Score+=1;


        }

        function InvincibleEvent()
        {
            if(playerCollider1.active == false)
            {
                player2Collider1.active=true;
                player2Collider2.active=true;
                player2Collider3.active=true;
                playerImage2.alpha = 1;
            }
        }




    </script>
</body>

</html>
